{% load marketplace_filters %}
<div class="mb-3" id="detalles-pedido">
    <table class="table table-responsive" >
        <thead>
            <tr class="table-success">
                <th class="text-center">Producto</th>
                <th class="text-center cantidad">Cantidad</th>
                <th class="text-center">Precio unitario</th>
                <th class="text-center">Total</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr class="product-cart" v-for="cartItem in cart.items">
                <td>
                    <div class="row">
                        <div class="col-lg-6 col-sm-12">
                            <div class="text-center">
                                <img v-bind:src="cartItem.image" class="img-fluid mx-auto">
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6">
                            <h5>Producto [[ cartItem.name]]</h5>
                            <p>x  [[ cartItem.unit ]]</p>
                        </div>
                    </div>
                </td>
                <td>
                    <div class="input-group">
                        <span class="input-group-btn clickable">
                            <button v-on:click="disminuirCantidad(cartItem)" type="button" class="btn btn-danger" v-bind:disabled="cartItem.quantity <= 1">
                                <i class="fa fa-2x fa-minus-circle"></i>
                            </button>
                        </span>
                        <input class="form-control product-quantity cart-details" type="number" min="1" v-model="cartItem.quantity" v-on:change="cambioCantidad" step="1" pattern="\d*">
                        <input class="product-id" type="hidden" v-model="cartItem.product_id" readonly disabled>
                        <span class="input-group-btn clickable">
                            <button v-on:click="incrementarCantidad(cartItem)" type="button" class="btn btn-success">
                                <i class="fa fa-2x fa-plus-circle"></i>
                            </button>
                        </span>
                    </div>
                </td>
                <td class="text-center">
                    <div class="mt-2">
                        <input class="unit-price" type="hidden" v-model="cartItem.price" readonly disabled>
                        $[[ toCop(cartItem.price) ]]
                    </div>
                </td>
                <td class="text-center">
                    <div class="mt-2">
                        $<span class="subtotal-producto">[[ toCop(cartItem.quantity * cartItem.price) ]]</span>
                    </div>
                </td>
                <td>
                    <button type="button" class="btn btn-link clickable" data-toggle="modal" data-keyboard="false" v-bind:data-target="'#modal-eliminar-carrito-'+cartItem.product_id">
                        <i class="fa fa-2x fa-times-circle-o text-danger"></i>
                    </button>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">
                    <h5 class="text-right">Total a pagar</h5>
                </td>
                <td colspan="2">
                    $[[ getTotal() ]]
                </td>
            </tr>
        </tfoot>

    </table>
</div>